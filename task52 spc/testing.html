<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GSAP Animation</title>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .image-container {
        height: 100vh;
        background-color: #333;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .content-section {
        padding: 20px;
      }

      .content {
        background-color: #f0f0f0;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        height: 100vh; /* Each content section occupies 100vh */
      }

      img {
        max-width: 100%;
        max-height: 100%;
      }

      /* Hide all images by default */
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div
          class="col-md-6 bg-dark text-white d-flex justify-content-center align-items-center"
        >
          <img
            id="img-1"
            src="assets/Mask Group 22.png"
            alt="Pinned Image"
            class="img-fluid active-image pinned-image"
          />
          <img
            id="img-2"
            src="assets/Mask Group 23.png"
            alt="Pinned Image"
            class="img-fluid "
          />
          <img
            id="img-3"
            src="assets/Mask Group 24.png"
            alt="Pinned Image"
            class="img-fluid "
          />
        </div>
        <div class="col-md-6">
          <div class="content-section">
            <div class="content bg-light rounded p-4 mb-4 text_html">
              <h1>Section 1</h1>
              <p>This is the content of section 1.</p>
              <!-- Add more content here if needed -->
            </div>
            <div class="content bg-light rounded p-4 mb-4 text_css">
              <h1>Section 2</h1>
              <p>This is the content of section 2.</p>
              <!-- Add more content here if needed -->
            </div>
            <div class="content bg-light rounded p-4 text_js">
              <h1>Section 3</h1>
              <p>This is the content of section 3.</p>
              <!-- Add more content here if needed -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <!-- <script>
    const images = document.querySelectorAll('.image-container img');
    const sections = document.querySelectorAll('.content');
  
    sections.forEach((section, index) => {
      const trigger = section;
      const start = 'top center';
      const end = 'bottom center';
  
      gsap.to(images[index], {
        opacity: 1,
        scrollTrigger: {
          trigger,
          start,
          end,
          scrub: true,
          onEnter: () => {
            images.forEach((image, i) => {
              if (i !== index) {
                gsap.to(image, { opacity: 0 });
              } else {
                gsap.to(image, { opacity: 1 });
              }
            });
          },
          onLeaveBack: () => {
            images.forEach((image, i) => {
              if (i !== index) {
                gsap.to(image, { opacity: 0 });
              } else {
                gsap.to(image, { opacity: 1 });
              }
            });
          }
        }
      });
    });
  </script> -->
    <script>
    //   gsap.registerPlugin(ScrollTrigger);
    //   let tween1 = gsap.to("#img-1", { x: -100 }),
    //     st1 = ScrollTrigger.create({
    //       trigger: ".text_html",
    //       start: "top center",
    //       end: "+=500",
    //       animation: tween1,
    //       onEnter: () => {
    //         console.log("aya");
    //         document.getElementById("img-1").classList.remove("hidden");
    //         document.getElementById("img-2").classList.add("hidden");
    //         document.getElementById("img-3").classList.add("hidden");
    //       },
    //       onLeaveBack: () => {
    //         console.log("wapas se");
    //         // document.getElementById("img-1").classList.remove("hidden");
    //       },
    //     });
    //   let tween2 = gsap.to("#img-2", { x: -100 }),
    //     st2 = ScrollTrigger.create({
    //       trigger: ".text_css",
    //       start: "top center",
    //       end: "+=500",
    //       animation: tween2,
    //       onEnter: () => {
    //         console.log("aya");
    //         document.getElementById("img-2").classList.remove("hidden");
    //         document.getElementById("img-1").classList.add("hidden");
    //         document.getElementById("img-3").classList.add("hidden");
    //       },
    //       onLeaveBack: () => {
    //         console.log("wapas");
    //         // document.getElementById("img-1").classList.remove("hidden");
    //       },
    //     });
    //   let tween3 = gsap.to("#img-3", { x: -100 }),
    //     st3 = ScrollTrigger.create({
    //       trigger: ".text_js",
    //       start: "top center",
    //       end: "+=500",
    //       animation: tween3,
    //       onEnter: () => {
    //         console.log("aya");
    //         document.getElementById("img-3").classList.remove("hidden");
    //         document.getElementById("img-1").classList.add("hidden");
    //         document.getElementById("img-2").classList.add("hidden");
    //       },
    //       onLeaveBack: () => {
    //         console.log("wapas");
    //         // document.getElementById("img-1").classList.remove("hidden");
    //       },
    //     });

      gsap.registerPlugin(ScrollTrigger);

      // Pin the image when scrolling enters the trigger
      ScrollTrigger.create({
        trigger: ".text_html",
        start: "top top",
        end: "bottom top",
        onEnter: () => gsap.to(".pinned-image", { opacity: 1 }),
        onLeaveBack: () => gsap.to(".pinned-image", { opacity: 0 }),
        toggleActions: "play none none none", // Play the animation when entering the trigger, and none for other directions
      });
    </script>
  </body>
</html>
